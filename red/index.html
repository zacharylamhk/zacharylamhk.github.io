<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GRGGRR1CL9"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-GRGGRR1CL9');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2024 的士新收費換算</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        #output {
            margin-top: 10px;
            font-weight: bold;
        }
        #output2 {
            margin-top: 10px;
            font-weight: bold;
        }
        .keypad {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            max-width: 200px;
            margin: 20px 0;
        }
        .keypad button {
            padding: 20px;
            font-size: 18px;
            cursor: pointer;
        }
        
    </style>
</head>
<body>
    <h1>紅的新收費換算</h1>
    <input type="text" id="inputBox" placeholder="Enter a key" readonly>
    <div id="output"></div>
    <div id="output2"></div>
    <div class="keypad">
        <button onclick="appendKey('1')">1</button>
        <button onclick="appendKey('2')">2</button>
        <button onclick="appendKey('3')">3</button>
        <button onclick="appendKey('4')">4</button>
        <button onclick="appendKey('5')">5</button>
        <button onclick="appendKey('6')">6</button>
        <button onclick="appendKey('7')">7</button>
        <button onclick="appendKey('8')">8</button>
        <button onclick="appendKey('9')">9</button>
        <button onclick="appendKey('0')">0</button>
        <button onclick="appendKey('.')">.</button>
        <button onclick="clearInput()">C</button>
    </div>
    <p>
        Disclaimer for 紅的新收費換算 (Red Taxi Fare Calculation)

        The information provided by 紅的新收費換算 (Red Taxi Fare Calculation) is for general informational purposes only. All information on this application is provided in good faith; however, we make no representation or warranty of any kind, express or implied, regarding the accuracy, adequacy, validity, reliability, availability, or completeness of any information on the application.
        
        1. Accuracy of Information
        
        While we strive to provide accurate and up-to-date information, we cannot guarantee that the fare calculations or any other information provided by this application will always be accurate, complete, or current. The fare calculation is based on the data available at the time of input and may not reflect real-time changes such as traffic conditions, route changes, or other unforeseen factors.
        
        2. No Professional Advice
        
        The fare calculations provided by this application are for informational purposes only and do not constitute professional advice. Users are advised to use their judgment and verify the information with other sources before relying on it for fare estimations or making any decisions based on the information provided by the application.
        
        3. Limitation of Liability
        
        In no event shall the creators, developers, or contributors of 紅的新收費換算 be liable for any direct, indirect, incidental, special, or consequential damages that may arise from the use of, or the inability to use, the information provided by this application. This includes, but is not limited to, any errors, omissions, or inaccuracies in the information provided, or any loss or damage of any kind incurred as a result of the use of the information provided by the application.
        
        4. External Links
        
        The application may contain links to external websites that are not provided or maintained by or in any way affiliated with us. Please note that we do not guarantee the accuracy, relevance, timeliness, or completeness of any information on these external websites.
        
        5. Changes to the Disclaimer
        
        We reserve the right to amend this disclaimer at any time without any prior notice. You are advised to review this disclaimer periodically for any changes. By using this application, you acknowledge and agree to the terms of this disclaimer.
        
        6. Acceptance of Terms
        
        By using 紅的新收費換算, you signify your acceptance of this disclaimer. If you do not agree with the terms of this disclaimer, please do not use the application.
    </p>

    <script>
        const url = './redtaxi.json'; // Replace with the actual URL of your JSON file

        let jsonData = {};

        // Fetch the JSON data from the URL
        fetch(url)
            .then(response => response.json())
            .then(data => {
                jsonData = data;
            })
            .catch(error => console.error('Error fetching the JSON data:', error));

        // Function to append key to the input box
        function appendKey(key) {
            const inputBox = document.getElementById('inputBox');
            inputBox.value += key;
            updateOutput();
            updateOutput2();

        }
        function roundToOne(number) {
            return +(Math.round(number + "e+1") + "e-1");
        }
        // Function to clear the input box
        function clearInput() {
            const inputBox = document.getElementById('inputBox');
            inputBox.value = '';
            updateOutput();
            updateOutput2();
            const outputDiv2 = document.getElementById('output2');
            outputDiv2.textContent = `公司價 :         `;
            x=0
        }

        // Function to update the output based on the input box value
        function updateOutput() {
            const inputBox = document.getElementById('inputBox');
            const key = inputBox.value;
            const outputDiv = document.getElementById('output');

            if (jsonData[key] !== undefined) {
                outputDiv.textContent = `新收費 :         $ ${jsonData[key]}`;
                x= parseFloat(jsonData[key])
            } else if (jsonData[key + '.0'] !== undefined) {
                outputDiv.textContent = `新收費 : $ ${jsonData[key + '.0']}`;
                x= parseFloat(jsonData[key+ '.0'])
            } else {
                outputDiv.textContent = '沒有記錄';
            }
        }
        function updateOutput2() {
            const inputBox = document.getElementById('inputBox');
            const key = inputBox.value;
            const outputDiv2 = document.getElementById('output2');
            
            try {
            // Do something that might trigger an error
                console.log(x)
                if (x <= 70){
                    outputDiv2.textContent = `公司價 :         $ ${x}`;
                }else if (x > 70 && x <82) {
                    outputDiv2.textContent = `公司價 :         $ 70`;
                } else {
                    outputDiv2.textContent = `公司價 :         $ ${roundToOne(x*0.85)}`;
                }
            } catch (error) {
 
                outputDiv2.textContent = `公司價 :         $ --`;
            }



        }
    </script>
</body>
</html>
